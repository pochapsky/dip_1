# Дипломная работа «Облачное хранилище»

## Описание работы

Задача — разработать REST-сервис. Сервис должен предоставить REST-интерфейс для хранения, загрузки , удаления,
скачивания и вывода списка уже загруженных файлов пользователя.

* Все запросы к сервису должны быть авторизованы.
* Заранее подготовленное веб-приложение (FRONT) должно подключаться к разработанному сервису без доработок, а также
  использовать функционал FRONT для авторизации, загрузки и вывода списка файлов пользователя.

## Требования к приложению

1. Сервис должен предоставлять REST-интерфейс для интеграции с FRONT.
2. Сервис должен реализовывать все методы, описанные в [**yaml-файле
   **](https://github.com/netology-code/jd-homeworks/blob/master/diploma/CloudServiceSpecification.yaml):

- Авторизация.
- Добавление файла.
- Вывод списка файлов.
- Редактирование имени файла.
- Удаление файла.
- Загрузка файла.

## Реализация:

- Приложение разработано с использованием Spring Boot;
- Использован сборщик пакетов Maven;
- Использована база данных PostgreSQL;
- Использована система управления миграциями Liquibase;
- Для запуска используется Dockerfile, docker-compose;
- Код размещен на Github;
- Информация о пользователях сервиса хранится в базе данных;
- Информация о файлах пользователей сервиса хранится в базе данных.
- Логирование  - **log4j**
- Запись логов в файле **program_log.log**
- Unit тесты
- Протестирован с помощью **Postman**

### Запуск FRONT:

1. Установите nodejs (версия не ниже 19.7.0) на компьютер, следуя инструкции https://nodejs.org/ru/download/current.
2. Скачайте FRONT https://github.com/netology-code/jd-homeworks/tree/master/diploma/netology-diplom-frontend (
   JavaScript).
3. Перейти в папку FRONT приложения и все команды для запуска выполнять из нее;
4. Следуя описанию README.md FRONT проекта запустить nodejs приложение (npm install...);
5. Для запуска FRONT приложения с расширенным логированием использовать команду: `npm run serve`.

### Запуск FRONT через Docker:

1. Установите nodejs (версия не ниже 19.7.0) на компьютер, следуя инструкции https://nodejs.org/ru/download/current.
2. Скачайте FRONT https://github.com/netology-code/jd-homeworks/tree/master/diploma/netology-diplom-frontend (
   JavaScript).
3. В проект FRONT netology-diplom-frontend добавляем Dockerfile.
4. Создаем образ netology-diplom-frontend, запускаем в Docker.

### Запуск BACKEND через Docker:

1. Скачать данный проект, выполнить `maven -> clean -> package`;
2. Запустить `docker-compose.yaml`.
   Автоматически создадутся все необходимые в базе данных таблицы (с двумя стартовыми пользователями в таблице users).

### Запуск BACKEND без Docker:

1. Запустить данный проект через main метод в классе DiplomaCloudStorageApplication.java;
2. Запустить базу данных (вместо запуска всего `docker-compose.yaml` необходимо запустить
   только `docker-compose.yaml -> database`.

### Для запуска REST-сервиса необходимо :

```
docker-compose up
```

Backend проект запустится на порту **5500**

### Стартовые пользователи:

```
USERNAME: pochapsky1@mail.ru, PASSWORD: pass1
USERNAME: pochapsky2@mail.ru, PASSWORD: pass2
```

### Работа приложения:

После ввода логина и пароля одного из двух статовых пользователей происходит авторизация системы
и у пользователя возникает возможность работы с файлами.

1. Добавление файла в облачное хранилище. После нажатия будет предложено выбрать файл для загрузки и загрузить его
   (список загруженных файлов изначально пуст);
2. Переименование файла. По нажатию будет сгенерировано случайное новое имя, состоящее из трех цифр;
3. Загрузить (скачать) файл с облачного хранилища;
4. Удалить файл;
5. В правом верхнем углу кнопка "Выйти" для выхода из своей учетной записи.
   По нажатию будет осуществлен автоматический переход на стартовую страницу с авторизацией.